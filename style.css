@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap'); 

        
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
:root{
            --glass-bg: rgba(255,255,255,0.04);
            --glass-border: rgba(255,255,255,0.12);
            --neon-start: #00f2fe;
            --neon-mid: #7a5cff;
            --neon-end: #ff5aa2;
            --accent: #00bfff;
            --accent-dark: #0077b3;
            --button-depth: rgba(0,0,0,0.45);
            --shadow-deep: 0 18px 40px rgba(0,0,0,0.55);
            --glass-blur: 10px;

            /* Toast specific color tokens (derived to keep app identity) */
            --toast-success: #28a745; /* green */
            --toast-error: #dc3545; /* red */
            --toast-warning: #ff8c00; /* orange */
            --toast-info: #00bfff; /* blue */

            /* Unified primary button gradient */
            --primary-start: #0b86d6;
            --primary-end: #006bb3;
            --primary-shadow: rgba(4,77,135,0.5);
        }

        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Plus Jakarta Sans','Inter',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;overflow:hidden;background: #0d0c1d;color:#111; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

        html, body{
            touch-action: manipulation;
            -ms-touch-action: manipulation;
            -webkit-text-size-adjust: 100%;
        }
        /* Prevent iOS zoom-on-focus */
        @media (max-width: 768px){
            input, select, textarea{ font-size: 16px !important; }
        }

        
        .app-screen {
            position: fixed;
            inset: 0;
            background: url('https://app.crybblewars.org/main/back_map/map.webp?v=2.0.3.14') no-repeat center center;
            background-size: cover;
            transition: opacity .5s ease-in;
            display: flex;
            flex-direction: column;
            opacity: 0;
            pointer-events: none; 
            z-index: 10; 
        }
        .app-screen.visible {
            opacity: 1;
            pointer-events: auto;
            z-index: 20; 
        }

        /* Loading Screen - 4 dots color spinner */
        .loading-screen {
            position: fixed;
            inset: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity .5s ease-out;
            background: url('back.png') no-repeat center center;
            background-size: cover; /* use provided image */
        }
        .loading-screen.hidden{opacity:0;pointer-events:none}

        .loading-spinner{
            display:flex;
            flex-direction: column;
            align-items:center;
            justify-content:center;
            gap: 10px;
                    transform: translateY(-15vh);
        }


        /* Bigger circle (badge) above the dots */
        .loading-badge{
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background: url('back2.png') no-repeat center center;
            background-size: cover;
            box-shadow: 0 18px 40px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.14);
            margin-top: -115px;
        }
        .loading-dots{
            display:flex;
            align-items:center;
            justify-content:center;
            gap: 6px;
        }
        .loading-dot{
            width: 14px;
            height: 14px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.75), rgba(255,255,255,0.0) 45%),
                        linear-gradient(145deg, #27d3ff, #0b86d6);
            box-shadow:
              0 0 0 1px rgba(255,255,255,0.10),
              0 10px 22px rgba(11,134,214,0.25),
              0 0 18px rgba(0,191,255,0.55);
            filter: saturate(1.15);
            animation: dotPulse 2.1s infinite ease-in-out;
            transform: translateY(0) scale(0.5);
            opacity: 0.55;
            margin-top: 35px;
            will-change: transform, opacity;
        }
        /* loading dots unified (blue) */
        .loading-dot:nth-child(1){ animation-delay: 0s; }
        .loading-dot:nth-child(2){ animation-delay: 0.25s; }
        .loading-dot:nth-child(3){ animation-delay: 0.50s; }
        .loading-dot:nth-child(4){ animation-delay: 0.75s; }

        @keyframes dotPulse{
            0%, 100% { transform: translateY(0) scale(0.55); opacity: 0.50; }
            45%      { transform: translateY(-3px) scale(1.05); opacity: 1; }
        }
/* End of loading spinner styles */

        /* Main Screen */
        .main-screen{
            background-color: #f0f0f0; 
        }
        
        .main-content{flex:1;display:flex;justify-content:center;align-items:center}
        
        /* User Circle (PRO) */
        .user-circle{
            position:absolute;
            top:12px;
            left:17px;
            width:60px;
            height:60px;
            border:none;
            border-radius:50%;
            display:flex;
            flex-direction:column;
            justify-content:center;
            align-items:center;
            cursor:pointer;
            transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
            z-index:100;
            overflow:hidden;

            /* glass */
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(10px) saturate(130%);
            -webkit-backdrop-filter: blur(10px) saturate(130%);
            box-shadow: 0 14px 34px rgba(0,0,0,0.40), inset 0 1px 0 rgba(255,255,255,0.16);
        }

        /* Gradient ring (avoids "dashed/cut" look) */
        .user-circle::before{
            content:"";
            position:absolute;
            inset:-1px;
            border-radius:50%;
            padding:2px;
            background: conic-gradient(from 120deg, var(--neon-start), var(--neon-mid), var(--neon-end), var(--neon-start));
            -webkit-mask:
              linear-gradient(#000 0 0) content-box,
              linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events:none;
            opacity: 0.92;
        }
        .user-circle:hover{transform: translateY(-1px) scale(1.02); box-shadow: 0 18px 44px rgba(0,0,0,0.48), inset 0 1px 0 rgba(255,255,255,0.18);} 
        .user-circle:active{transform: translateY(1px) scale(0.995);}

        .user-circle img{width:100%;height:100%;object-fit:cover;border-radius:50%;display:none}
        .user-circle .placeholder{
            width:100%;height:100%;
            display:flex;
            align-items:center;
            justify-content:center;
            font-weight: 900;
            font-size: 18px;
            letter-spacing: 0.2px;
            color: rgba(255,255,255,0.88);
            text-shadow: 0 1px 0 rgba(0,0,0,0.35);
            user-select:none;
        }
        
        .user-username{
            position: absolute;
            top: 74px;
            left: 6px;
            width: 84px;
            font-size:13px;color:#555;white-space:nowrap;
            text-align: center;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .user-id{
            position: absolute;
            top: 90px;
            left: 6px;
            width: 84px;
            font-size:11px;color:#888;white-space:nowrap;
            text-align: center;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Balance with small image in front (plain image, not inside a circular button) */
        .balance {
            position:absolute;top:20px;right: 3px;
            background:#fff;border:1px solid #ff5a5a;border-radius:12px;padding:8px 12px;font-family:'Inter','Vazirmatn', Arial, Helvetica, sans-serif;font-size:12px;color: grey;text-shadow:0 0 2px #ffbbbb;letter-spacing:1px;z-index:101;box-shadow:0 4px 6px rgba(0,0,0,.05);
            display:flex;align-items:center;gap:8px;
            
        }
        .balance img#shibIcon { width:25px; height:25px; object-fit:cover; display:inline-block; border-radius: 50%; }

        /* Improved balance number typography */
        .balance #shibBalanceText {
            font-family: 'Inter','Orbitron', 'Courier New', monospace;
            font-variant-numeric: tabular-nums;
            font-size: 10px;
            font-weight: 900;
            color: grey;
            letter-spacing: 0.6px;
            text-shadow: 0 1px 0 rgba(255,255,255,0.6);
            -webkit-font-smoothing:antialiased;
        }

        /* Contest button still exists but kept visually separate (we won't rely on it for the SHIB image anymore) */
        .contest-btn-under-balance {
            position: absolute;
            top: 70px;
            right: 20px;
            background: transparent;
            color: #fff;
            border: none;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all .1s ease;
            z-index: 101;
            display:flex;
            align-items:center;
            justify-content:center;
            padding: 0;
            overflow: hidden;
        }
        .contest-btn-under-balance:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 0 var(--primary-shadow), 0 10px 15px rgba(0,0,0,.22);
        }
        .contest-btn-under-balance:active {
            transform: translateY(2px) scale(.98);
            box-shadow: 0 2px 0 var(--primary-shadow), 0 4px 8px rgba(0,0,0,.15);
        }
        .contest-btn-under-balance img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20%;
            display: block;
            pointer-events: none; /* allow click to be handled by button */
        }

        /* ===== PROGRESS GROUP (CENTERED GLASS + NEON STYLING) ===== */
        .progress-group-container {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            width: 100%;
            max-width: 760px;
            padding: 24px;
            pointer-events: none; /* groups shouldn't block interactions beneath them; individual buttons inside will still be interactive if needed */
            z-index: 105;
        }

        /* Card wrapper for each progress bar - glass + neon glow */
        .daily-progress-container, .spin-progress-container {
            pointer-events: auto; /* allow interactions like tooltip if needed */
            width: min(92%, 420px);
            background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
            border-radius: 16px;
            padding: 18px;
            box-shadow:
              0 20px 40px rgba(2,6,23,0.65),
              0 6px 18px rgba(0,0,0,0.5),
              0 0 32px rgba(122,92,255,0.06) inset;
            backdrop-filter: blur(var(--glass-blur)) saturate(120%);
            border: 1px solid rgba(255,255,255,0.06);
            text-align: left;
            transition: transform .35s cubic-bezier(.2,.9,.2,1), box-shadow .35s ease;
            position: relative;
            overflow: visible;
        }

        .daily-progress-container:hover, .spin-progress-container:hover {
            transform: translateY(-6px);
            box-shadow:
              0 30px 70px rgba(2,6,23,0.75),
              0 12px 32px rgba(0,0,0,0.65),
              0 0 48px rgba(122,92,255,0.14) inset;
        }

        /* subtle pulsing neon halo */
        @keyframes neonPulse {
            0% { box-shadow:
                0 18px 40px rgba(2,6,23,0.6),
                0 6px 18px rgba(0,0,0,0.45),
                0 0 18px rgba(0,191,255,0.04) inset; }
            50% { box-shadow:
                0 28px 60px rgba(2,6,23,0.75),
                0 12px 30px rgba(0,0,0,0.6),
                0 0 36px rgba(122,92,255,0.08) inset; }
            100% { box-shadow:
                0 18px 40px rgba(2,6,23,0.6),
                0 6px 18px rgba(0,0,0,0.45),
                0 0 18px rgba(0,191,255,0.04) inset; }
        }
        .daily-progress-container, .spin-progress-container { animation: neonPulse 6.5s ease-in-out infinite; }

        .daily-progress-text, .spin-progress-text {font-size:14px;color:#e6eefb;margin-bottom:8px; font-weight:700; letter-spacing:0.4px;}
        .daily-progress-bar, .spin-progress-bar {
            width:100%;
            height:16px;
            background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
            border-radius: 999px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.04);
            box-shadow: inset 0 -4px 12px rgba(0,0,0,0.45);
            position: relative;
        }

        /* moving animated gradient fill with glow + sheen */
        .daily-progress-fill, .spin-progress-fill {
            height:100%;
            width:0%;
            border-radius: 999px;
            transition: width .7s cubic-bezier(.2,.9,.25,1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 28px rgba(0,0,0,0.6), 0 0 18px rgba(0,191,255,0.12);
            display:flex; align-items:center; justify-content:center;
        }

        /* different gradients for the two fills for variety yet harmony */
        .daily-progress-fill {
            background: linear-gradient(90deg, var(--neon-start), var(--neon-mid), var(--neon-end));
            background-size: 240% 100%;
            animation: shiftGradient 4.5s linear infinite;
            box-shadow: 0 10px 30px rgba(122,92,255,0.18), 0 0 28px rgba(0,191,255,0.12);
        }
        .spin-progress-fill {
            background: linear-gradient(90deg, #ff9a00, #ff5a5a, #ff2a9a);
            background-size: 220% 100%;
            animation: shiftGradient 3.6s linear infinite reverse;
            box-shadow: 0 10px 30px rgba(255,90,90,0.14), 0 0 28px rgba(255,90,90,0.10);
        }

        /* shimmer sheen */
        .daily-progress-fill::after, .spin-progress-fill::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -40%;
            width: 60%;
            height: 300%;
            background: linear-gradient(120deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.18) 50%, rgba(255,255,255,0.06) 100%);
            transform: rotate(18deg);
            opacity: 0.6;
            pointer-events: none;
            animation: sheenMove 3.2s linear infinite;
            mix-blend-mode: overlay;
        }

        /* animated diagonal stripes overlay to give "ad-progress" vibe */
        .daily-progress-bar::before, .spin-progress-bar::before {
            content: "";
            position: absolute;
            inset: 0;
            background-image: linear-gradient(135deg, rgba(255,255,255,0.03) 25%, rgba(0,0,0,0.02) 25%, rgba(0,0,0,0.02) 50%, rgba(255,255,255,0.03) 50%, rgba(255,255,255,0.03) 75%, rgba(0,0,0,0.02) 75%, rgba(0,0,0,0.02) 100%);
            background-size: 24px 24px;
            pointer-events: none;
            opacity: 0.45;
            mix-blend-mode: overlay;
            animation: stripeMove 6s linear infinite;
        }
        @keyframes stripeMove {
            0% { background-position: 0 0; }
            100% { background-position: 48px 0; }
        }

        @keyframes shiftGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes sheenMove {
            0% { transform: translateX(-120%) rotate(18deg); opacity:0; }
            10% { opacity:0.8; }
            50% { transform: translateX(200%) rotate(18deg); opacity:0.6; }
            90% { opacity:0.0; }
            100% { transform: translateX(200%) rotate(18deg); opacity:0; }
        }

        /* percent label inside fills */
        .progress-percent {
            position: relative;
            z-index: 2;
            font-weight: 900;
            font-size: 12px;
            color: rgba(0,0,0,0.7);
            text-shadow: 0 1px 2px rgba(255,255,255,0.25);
            padding: 0 6px;
            pointer-events: none;
        }

        /* End of progress styling */

        /* Button Adjustments - Equal width for 5 buttons */
        .button-container{
            position:absolute;bottom:40px;left:50%;transform:translateX(-50%);
            display:grid; /* Change to grid for better control */
            grid-template-columns: repeat(5, 1fr); /* 5 equal columns (UPDATED) */
            gap: 8px; /* Slightly reduced gap */
            background: transparent;padding:10px 10px; /* Reduced padding */
            border-radius:20px;box-shadow:0 4px 15px rgba(0,0,0,.1);backdrop-filter:blur(10px);
            width: 95%; /* Increased width for more space */
            max-width: 450px;
        }
        /* 3D Elevated Button Base (applied to many button classes below) */
        .nav-button{
            position:relative;display:flex;align-items:center;justify-content:center;
            --btn-h:48px;
            height:var(--btn-h);
            background: linear-gradient(145deg,var(--primary-start),var(--primary-end));
            color:#fff;border:none;padding:10px 0;border-radius:12px;font-size:12px;
            font-weight:900;cursor:pointer;transition:transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s ease, filter .18s ease;
            transform-style:preserve-3d;
            box-shadow: var(--shadow-deep), 0 6px 0 var(--primary-shadow), inset 0 -6px 18px rgba(255,255,255,0.02);
            text-transform:uppercase;letter-spacing:.6px;
        }
        .nav-button span{display:block;text-shadow:0 1px 4px rgba(0,0,0,.35)}

        /* Pseudo element to create a realistic "base" for 3D look */
        .nav-button::after {
            content: "";
            position: absolute;
            left: 8%;
            right: 8%;
            bottom: -10px;
            height: 10px;
            background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.2));
            border-radius: 8px;
            filter: blur(8px);
            z-index: -1;
            transition: bottom .18s ease, height .18s ease, opacity .18s ease;
            opacity: 0.9;
        }

        .nav-button:hover{
            transform: translateY(-8px) scale(1.02) rotateX(6deg);
            box-shadow: 0 34px 60px rgba(2,6,23,0.8), 0 14px 36px rgba(0,0,0,0.6), 0 0 40px rgba(74,144,226,0.14);
            filter: saturate(1.05);
        }
        .nav-button:active{
            transform: translateY(4px) scale(.985);
            box-shadow: 0 8px 18px rgba(2,6,23,0.6), 0 4px 8px rgba(0,0,0,0.45);
        }
        .nav-button[disabled]{
            opacity:.7; cursor:not-allowed;
            transform:none; box-shadow: 0 6px 12px rgba(0,0,0,0.45);
        }

        .nav-button.task-btn{
            /* keep same unified color but change visual accent */
            box-shadow: var(--shadow-deep), 0 6px 0 rgba(4,77,135,0.6), inset 0 -6px 14px rgba(255,255,255,0.02);
            color: #fff;
        }

        /* NEW Style for Withdraw Nav Button */
        .nav-button.withdraw-btn-nav{
            /* unified look */
            box-shadow: var(--shadow-deep), 0 6px 0 var(--primary-shadow), inset 0 -6px 14px rgba(255,255,255,0.02);
        }
        .nav-button.withdraw-btn-nav:hover{
            box-shadow: 0 34px 60px rgba(2,6,23,0.8), 0 14px 36px rgba(0,0,0,0.62), 0 0 40px rgba(255,42,42,0.16);
        }

        /* Generic 3D for other primary buttons */
        .task-action-btn-new,
        .withdraw-btn,
        .back-btn,
        .copy-link-btn,
        .contest-watch-btn,
        .contest-rank-btn,
        .contest-back-btn,
        .task-back-btn,
        .spin-btn {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 22px;
            border-radius: 12px;
            font-weight: 900;
            cursor: pointer;
            transition: transform .16s cubic-bezier(.2,.9,.2,1), box-shadow .16s ease, filter .16s ease;
            transform-style: preserve-3d;
            color: #fff;
            border: none;
            text-decoration: none;
            -webkit-tap-highlight-color: transparent;
            box-shadow: 0 18px 48px rgba(2,6,23,0.6), 0 6px 0 rgba(0,0,0,0.5);
            background: linear-gradient(145deg,var(--primary-start),var(--primary-end));
        }

        .task-action-btn-new {
            color: #fff;
            box-shadow: 0 18px 48px rgba(4,77,135,0.5), 0 6px 0 var(--primary-shadow), inset 0 -6px 12px rgba(255,255,255,0.02);
        }
        .task-action-btn-new:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 32px 68px rgba(40,30,10,0.72); }
        .task-action-btn-new:active { transform: translateY(4px) scale(.99); box-shadow: 0 8px 18px rgba(0,0,0,0.5); }

        .withdraw-btn {
            box-shadow: 0 18px 48px rgba(10,50,20,0.5), 0 6px 0 #1c6d32, inset 0 -6px 12px rgba(255,255,255,0.02);
        }
        .back-btn {
            background: linear-gradient(145deg,#6c757d,#5a6268);
            box-shadow: 0 18px 48px rgba(10,10,10,0.55), 0 6px 0 #4e555b, inset 0 -6px 12px rgba(255,255,255,0.02);
        }
        .copy-link-btn {
            color:#fff;border:none;padding:12px 30px;border-radius:10px;font-size:16px;font-weight:bold;cursor:pointer;
            box-shadow:0 5px 0 #005a8d;transition:all .1s ease;
            width: 100%; 
        }
        .contest-watch-btn, .contest-rank-btn {
            color: #fff;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #cc3700, 0 8px 15px rgba(0,0,0,.2);
            transition: all .1s ease;
            background: linear-gradient(145deg,var(--primary-start),var(--primary-end));
        }
        .contest-watch-btn.locked { opacity: 0.6; cursor: not-allowed; box-shadow: none; transform: none; }
        .contest-watch-btn:hover, .contest-rank-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 0 #005a8d, 0 10px 20px rgba(0,0,0,.25);
        }
        .contest-back-btn {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(145deg, #6c757d, #5a6268);
            color: #fff;
            border: none;
            padding: 15px 40px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 6px 0 #4e555b;
            transition: all .1s ease;
            width: 90%;
            max-width: 350px;
            z-index: 1000;
        }
        .contest-back-btn:active {
            transform: translateY(3px) translateX(-50%);
            box-shadow: 0 3px 0 #4e555b;
        }

        /* ===== Task Screen - Professional glass UI ===== */
        .task-screen{
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:flex-start;
            padding-top: 12px;
            padding-bottom: 140px;
            overflow-y:auto;
            background:
              radial-gradient(1000px 700px at 10% 0%, rgba(122,92,255,0.28), transparent 55%),
              radial-gradient(900px 700px at 110% 20%, rgba(255,90,162,0.20), transparent 55%),
              linear-gradient(180deg, rgba(6,12,24,0.92), rgba(5,11,22,0.94));
        }
        .task-header{
            width: 92%;
            max-width: 420px;
            margin: 10px 0 12px;
            padding: 14px 14px;
            border-radius: 18px;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.12);
            backdrop-filter: blur(10px) saturate(130%);
            -webkit-backdrop-filter: blur(10px) saturate(130%);
            box-shadow: 0 18px 52px rgba(0,0,0,0.36);
            position: sticky;
            top: 10px;
            z-index: 300;
            text-align: left;
        }
        .task-title{
            font-family: 'Orbitron','Inter','Vazirmatn', sans-serif;
            font-size: 18px;
            font-weight: 900;
            color: rgba(255,255,255,0.95);
            letter-spacing: 0.4px;
            margin: 0;
            text-shadow: 0 8px 24px rgba(0,0,0,0.35);
        }

        .task-content-container{
            width: 92%;
            max-width: 420px;
            padding: 0;
        }

        .task-link-container{
            width: 100%;
            max-width: none;
            background: rgba(11,20,42,0.78);
            padding: 12px;
            border-radius: 18px;
            box-shadow: 0 16px 46px rgba(0,0,0,0.34);
            border: 1px solid rgba(255,255,255,0.10);
            margin-bottom: 12px;
            display:flex;
            flex-direction:column;
            gap: 8px;
            align-items: stretch;
            font-size: 13px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        .task-link-title{
            font-size: 13px;
            color: rgba(255,255,255,0.88);
            font-weight: 800;
            display:flex;
            justify-content:space-between;
            align-items:center;
            gap: 10px;
        }
        .task-link-progress-bar{
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.10);
            border-radius: 999px;
            overflow:hidden;
            transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
        }

        .task-item-card{
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.12);
            box-shadow: 0 16px 44px rgba(0,0,0,0.30);
            margin: 10px 0;
            padding: 14px;
            border-radius: 18px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            gap: 12px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        .task-left{
            display:flex;
            align-items:flex-start;
            gap: 12px;
            min-width: 0;
            flex: 1 1 auto;
        }
        .task-dot{
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.65), rgba(255,255,255,0.0) 45%),
                        linear-gradient(145deg, #27d3ff, #0b86d6);
            box-shadow: 0 10px 22px rgba(11,134,214,0.22), 0 0 16px rgba(0,191,255,0.35);
            flex: 0 0 10px;
            margin-top: 6px;
        }
        .task-text-info{
            display:flex;
            flex-direction:column;
            gap: 6px;
            min-width: 0;
        }
        .task-name{
            color: rgba(255,255,255,0.95);
            font-weight: 900;
            font-size: 14px;
            line-height: 1.25;
            overflow:hidden;
            text-overflow: ellipsis;
        }
        .task-meta{
            display:flex;
            align-items:center;
            gap: 8px;
            flex-wrap: wrap;
            color: rgba(255,255,255,0.70);
            font-size: 12px;
            font-weight: 700;
        }
        .task-reward{
            padding: 5px 10px;
            border-radius: 999px;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.12);
            color: rgba(255,255,255,0.88);
            font-weight: 900;
            font-variant-numeric: tabular-nums;
        }

        .task-action-btn-new{
            border: 1px solid rgba(255,255,255,0.16);
            color: rgba(255,255,255,0.95);
            padding: 10px 14px;
            border-radius: 14px;
            cursor:pointer;
            font-size: 13px;
            font-weight: 900;
            min-width: 96px;
            transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
            background: linear-gradient(145deg, var(--primary-start), var(--primary-end));
            box-shadow: 0 10px 26px rgba(0,0,0,0.35);
            letter-spacing: 0.3px;
            text-transform: none;
            white-space: nowrap;
        }
        .task-action-btn-new:hover{transform: translateY(-1px); filter: brightness(1.03);}
        .task-action-btn-new:active{transform: translateY(1px);}
        .task-action-btn-new:disabled{
            opacity: 0.55;
            cursor:not-allowed;
            transform:none;
            box-shadow:none;
            filter:saturate(0.85);
        }
        .task-action-btn-new.completed{
            background: linear-gradient(145deg, #28a745, #1e7e34);
            border-color: rgba(255,255,255,0.14);
            box-shadow: 0 10px 26px rgba(0,0,0,0.30);
        }
        .task-screen .note{ display:none; }

        .no-channel-tasks{
            margin-top: 12px;
            font-size: 13px;
            color: rgba(255,255,255,0.75);
            text-align:center;
            background: rgba(255,255,255,0.06);
            padding: 10px 12px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.10);
        }

        /* Back Button Style - fixed at bottom */
        .task-back-btn{
            position: fixed;
            bottom: 18px;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            max-width: 420px;
            border-radius: 18px;
            border: 1px solid rgba(255,255,255,0.16);
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px) saturate(130%);
            -webkit-backdrop-filter: blur(10px) saturate(130%);
            color: rgba(255,255,255,0.92);
            font-size: 15px;
            font-weight: 900;
            padding: 14px 16px;
            cursor:pointer;
            box-shadow: 0 18px 55px rgba(0,0,0,0.40);
            transition: transform .12s ease, filter .12s ease;
            z-index: 1000;
        }
        .task-back-btn:active{ transform: translateX(-50%) translateY(1px); filter: brightness(0.98); }
        
        /* ===== Spin Screen ===== */
        .spin-screen{
            display:flex;flex-direction:column;align-items:center;justify-content:center;
            transition:opacity .3s ease;
        }
        #wheelBox{position:relative;margin-bottom:25px}

        /* Premium idle "breathing" (very subtle) */
        #wheelBox.idle{
            transform-origin:center;
        }
        /* Reduce constant animation to prevent lag on low-end phones */
        @media (prefers-reduced-motion: no-preference){
            .idle{ animation: wheelBreath 14s ease-in-out infinite; }
            #wheelBox.spinning{ animation: none; }
        }
        @media (prefers-reduced-motion: reduce){
            .idle{ animation: none; }
            #wheelBox.spinning{ animation: none; }
        }

        @keyframes wheelBreath{
            0%,100%{ transform: scale(1); }
            50%{ transform: scale(1.002); }
        }

/* Subtle light flash during spin start */
        #wheelBox .spin-light{
            position:absolute;
            inset:0;
            border-radius:50%;
            pointer-events:none;
            opacity:0;
            background: radial-gradient(circle at 30% 20%,
                rgba(255,255,255,0.16),
                rgba(255,255,255,0.00) 55%);
            mix-blend-mode: screen;
            filter: blur(3px);
        }
        #wheelBox.spin-flash .spin-light{
            animation: spinFlash 0.65s ease-out forwards;
        }
        @keyframes spinFlash{
            0%{ opacity:0; }
            18%{ opacity:0.12; }
            100%{ opacity:0; }
        }
        #wheelCanvas{
            border-radius:50%;
            background-color: #fefefe;
            border: 1px solid rgba(255,255,255,0.35);
            /* Premium depth (neutral, no slice color changes) */
            box-shadow:
              0 0 0 10px #eee,
              0 18px 48px rgba(0,0,0,0.50),
              inset 0 2px 2px rgba(255,255,255,0.55),
              inset 0 -14px 22px rgba(0,0,0,0.18);
            transform-origin: center center;
            transition: transform 3.2s cubic-bezier(0.22,0,0.2,1);
            will-change: transform;
        }
        /* Extra visual effect while spinning (neutral, very subtle) */
        #wheelCanvas.spinning {
            filter: drop-shadow(0 10px 18px rgba(0,0,0,0.22));
        }
        .arrow{
            position:absolute;top:-16px;left:50%;transform:translateX(-50%);
            width:0;height:0;border-left:18px solid transparent;border-right:18px solid transparent;
            border-top:28px solid #ff3366;filter:drop-shadow(0 3px 2px rgba(0,0,0,.3));z-index:10;
        }
        .spin-btn{background:linear-gradient(145deg,var(--primary-start),var(--primary-end));color:#fff;border:none;padding:12px 35px;border-radius:30px;font-size:16px;font-weight:bold;cursor:pointer;box-shadow:0 6px 0 var(--primary-shadow);transition:all .1s ease}
        .spin-btn:active{transform:translateY(3px);box-shadow:0 3px 0 var(--primary-shadow)}
        .spin-result{display:none !important;}
        .spin-back{margin-top:25px;background:#6c757d;color:#fff;border:none;padding:10px 25px;border-radius:8px;font-size:15px;font-weight:bold;cursor:pointer;box-shadow:0 4px 0 #5a6268}
        .spin-back:active{transform:translateY(2px);box-shadow:0 2px 0 #5a6268}

                /* ===== Withdraw Screen - Fintech / Web3 Redesign (Mobile First) ===== */
        .withdraw-screen{
            display:flex;
            flex-direction:column;
            align-items:center;
            padding:16px;
            transition:opacity .3s ease;
            overflow-y:auto;
            background:linear-gradient(180deg,#0b1d3a,#08162c);
            background-size:cover;
        }

        .withdraw-container{
            width:100%;
            max-width:420px;
            display:flex;
            flex-direction:column;
            gap:16px;
            padding-bottom:18px;
        }

        /* Banner (keep existing image with.png, scaled down ~35%, no white frame) */
        .withdraw-banner{
            width:100%;
            height:110px;
            background:url(with.png) center/contain no-repeat;
            border-radius: 0;
        }

        /* Soft white card */
        .withdraw-card{
            background:rgba(255,255,255,0.94);
            border-radius:16px;
            box-shadow:0 10px 28px rgba(0,0,0,0.12);
            padding:18px;
        }

        /* Section title */
        .withdraw-section-title{
            color:#e5e7eb;
            font-weight:800;
            font-size:13px;
            margin:2px 2px 0 2px;
        }

        /* Balance Card */
        .withdraw-balance-value{
            font-size:34px;
            font-weight:800;
            letter-spacing:0.4px;
            text-align:center;
            color:#0f172a;
        }
        .withdraw-balance-currency{
            margin-top:4px;
            font-size:13px;
            font-weight:700;
            text-align:center;
            color:#64748b;
        }

        /* Method Selection Cards */
        .withdraw-method-toggle{
            width:100%;
            display:grid;
            grid-template-columns:1fr 1fr;
            gap:12px;
        }

        .method-option{
            background:rgba(255,255,255,0.94);
            border-radius:16px;
            box-shadow:0 10px 28px rgba(0,0,0,0.10);
            padding:14px;
            display:flex;
            align-items:center;
            gap:10px;
            cursor:pointer;
            border:2px solid transparent;
            transition:all .15s ease;
            user-select:none;
        }

        .method-option input{
            position:absolute;
            opacity:0;
            pointer-events:none;
        }

        .method-option .method-icon{
            width:30px;
            height:30px;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:20px;
        }

        .method-option .label{
            font-weight:800;
            font-size:13px;
            color:#0f172a;
        }

        .method-option.active{
            border-color:var(--primary-start);
            box-shadow:0 12px 34px rgba(11,134,214,0.22);
        }

        /* Form Card (reuse existing input classes) */
        .input-form-container{
            width:100%;
            max-width:420px;
            background:rgba(255,255,255,0.94);
            padding:18px;
            border-radius:16px;
            box-shadow:0 10px 28px rgba(0,0,0,0.12);
            border:none;
            margin-bottom:0;
        }

        .input-group{
            width:100%;
            margin-bottom:14px;
        }
        .input-group label{
            display:block;
            margin-bottom:6px;
            font-size:13px;
            color:#64748b;
            font-weight:700;
        }
        .input-group input{
            width:100%;
            padding:12px 14px;
            border:1px solid #e5e7eb;
            border-radius:12px;
            font-size:15px;
            transition:border-color .2s ease, box-shadow .2s ease;
            outline:none;
            background:#fff;
        }
        .input-group input:focus{
            border-color:var(--primary-start);
            box-shadow:0 0 0 3px rgba(11,134,214,0.18);
        }

        .withdraw-min-note{
            margin-top:-8px;
            margin-bottom:14px;
            font-size:12px;
            color:#64748b;
        }

        /* Primary / Secondary Buttons */
        .withdraw-btn{
            width:100%;
            background:linear-gradient(145deg,var(--primary-start),var(--primary-end));
            color:#fff;
            border:none;
            padding:14px 18px;
            border-radius:16px;
            font-size:16px;
            font-weight:800;
            cursor:pointer;
            box-shadow:0 12px 30px rgba(11,134,214,0.35);
            transition:transform .1s ease, box-shadow .1s ease, opacity .1s ease;
        }

        /* --- Withdraw UX tweaks (v2) --- */
        .w-actions{
            width:100%;
            display:flex;
            gap:12px;
            margin-top:6px;
        }
        .w-actions .withdraw-btn{flex:1;width:auto}
        .withdraw-btn.w-outline{
            background:linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
            color:#ffffff;
            border:1px solid rgba(255,255,255,0.18);
            box-shadow:0 12px 30px rgba(2,6,23,0.35);
        }
        .withdraw-btn.w-outline:hover{
            transform:translateY(-1px);
            background:linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.08));
        }

        /* Make numbers clearer inside Telegram / mobile */
        #withdrawBalanceDisplay,
        #withdrawAmount,
        .w-meta-pill,
        .w-chip,
        .history-item .amount{
            font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            font-variant-numeric: tabular-nums;
            letter-spacing:0.2px;
            text-shadow:none;
        }
        #withdrawBalanceDisplay{font-weight:800}
        #withdrawAmount{font-weight:700}

        /* Make numbers clearer across the app (Main / Contest / History) */
        #shibBalanceText,
        .contest-ticket-value,
        .prize-value,
        .contest-countdown{
            font-variant-numeric: tabular-nums;
        }

        .withdraw-btn:active{transform:translateY(2px)}
        .withdraw-btn:disabled{
            opacity:0.6;
            box-shadow:none;
            cursor:not-allowed;
        }

        .withdraw-secondary-btn{
            width:100%;
            background:rgba(255,255,255,0.10);
            color:#e5e7eb;
            border:1px solid rgba(255,255,255,0.18);
            padding:12px 18px;
            border-radius:16px;
            font-size:14px;
            font-weight:800;
            cursor:pointer;
            transition:transform .1s ease, background .15s ease;
        }
        .withdraw-secondary-btn:active{transform:translateY(2px)}
        .withdraw-secondary-btn:hover{background:rgba(255,255,255,0.14)}

        /* Info Bar */
        .withdraw-info-bar{
            width:100%;
            display:flex;
            align-items:center;
            gap:10px;
            padding:12px 14px;
            border-radius:16px;
            background:rgba(255,255,255,0.08);
            border:1px solid rgba(255,255,255,0.14);
            color:#e5e7eb;
            font-size:13px;
        }
        .withdraw-info-bar .icon{
            font-size:18px;
            line-height:1;
        }
/* Withdrawal History Table */
        .history-section{
            width: 100%;
            max-width: 400px;
            margin-top: 30px;
            padding: 20px 0;
            border-top: 1px solid #eee;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
        }
        .history-title{
            font-size: 20px;
            color: #333;
            margin-bottom: 15px;
            font-weight: 700;
            text-align: center;
        }
        .history-table{
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        .history-table th, .history-table td{
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }
        .history-table th{
            background-color: #f0f4f8;
            color: #4a90e2;
            font-weight: 700;
        }
        .history-table tr:last-child td{
            border-bottom: none;
        }
        .status-pending{color: #ff8c00; font-weight: bold;}
        .status-completed{color: #28a745; font-weight: bold;}
        .no-records{text-align: center; color: #999; padding: 20px;}
        
        /* ===== Invite Screen - (No changes needed) ===== */
        .invite-screen{
            display:flex;flex-direction:column;align-items:center;padding:20px 20px;
            transition:opacity .3s ease;
            overflow-y: auto;
        }
        .invite-header{ 
            text-align: center;
            margin-bottom: 25px;
            width: 100%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
        }
        .invite-title{ 
             background: url(refal.png) center;
            background-size: cover;
            width: 200px;
            height: 150px;
            padding: 10px; 
            border-radius: 25px;
            border: solid transparent;
            margin-left: 50px;
        }
        .referrals-count-info{
            font-size: 18px;
            color: #333;
            margin-top: 15px;
            font-weight: bold;
            padding: 10px 15px;
            background: #e6f0ff;
            border-radius: 10px;
            border: 1px solid #cce0ff;
            box-shadow: 0 2px 5px rgba(0,0,0,.05);
            width: 100%;
        }
        .invite-buttons{
            width: 100%;
            margin-top: 15px;
        }
        .copy-link-btn{
            background:linear-gradient(145deg,var(--primary-start),var(--primary-end));
            color:#fff;border:none;padding:12px 30px;border-radius:10px;font-size:16px;font-weight:bold;cursor:pointer;
            box-shadow:0 5px 0 var(--primary-shadow);transition:all .1s ease;
            width: 100%; 
        }
        .copy-link-btn:active{transform:translateY(3px);box-shadow:0 2px 0 var(--primary-shadow)}
        #referralLinkInput{
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            color: #4a90e2;
            background: #f8f8f8;
            word-break: break-all;
            white-space: normal;
        }
        
        /* Custom Alert Overlay - (left in place but we'll migrate to toast) */
        .custom-alert-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
            z-index: 99999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .custom-alert-overlay.visible {
            display: flex;
            opacity: 1;
        }

        /* Custom Alert Box - 3D Pencil Style - SLIGHTLY SMALLER - (left for compatibility but not used for toasts) */
        .custom-alert-box {
            width: 90%;
            max-width: 280px; /* Smaller max width */
            background: #ffffed; /* Off-white paper background */
            border-radius: 15px;
            padding: 20px; /* Reduced padding */
            text-align: center;
            box-shadow: 
                0 8px 15px rgba(0, 0, 0, 0.3), /* Base shadow */
                inset 0 0 10px rgba(0, 0, 0, 0.05); /* Inner light effect */
            border: 3px solid #6b4d32; /* Pencil/Wood border */
            transform: perspective(600px) rotateX(0deg) scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Spring effect */
        }
        .custom-alert-overlay.visible .custom-alert-box {
            transform: perspective(600px) rotateX(0deg) scale(1);
        }

        .alert-title {
            font-family: 'Vazirmatn', sans-serif;
            font-size: 20px; /* Slightly smaller title */
            font-weight: 700;
            color: #4CAF50; 
            margin-bottom: 8px; /* Reduced margin */
            text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.1); 
            letter-spacing: 0.5px;
        }

        .alert-message {
            font-family: 'Vazirmatn', sans-serif;
            font-size: 13px; /* Slightly smaller message */
            color: #333; 
            margin-bottom: 18px; /* Reduced margin */
            white-space: pre-wrap; 
        }

        .alert-icon {
            font-size: 35px; /* Slightly smaller icon */
            margin-bottom: 12px;
        }
        .alert-icon::before {
            content: '‚≠ê';
        }

        .alert-close-btn {
            background: #6b4d32; 
            color: #fff;
            border: none;
            padding: 9px 18px; /* Slightly smaller button */
            border-radius: 8px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 #543b27;
            transition: all 0.1s ease;
        }
        .alert-close-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #543b27;
        }

        /* Specific styles for Success */
        .custom-alert-box.success .alert-title { color: #28a745; }
        .custom-alert-box.success .alert-icon::before { content: 'üéÆ'; }

        /* Specific styles for Error/Warning */
        .custom-alert-box.error .alert-title { color: #dc3545; }
        .custom-alert-box.error .alert-icon::before { content: 'üîî'; }

        /* Specific styles for Warning/Info - Using Yellow/Brown for Pencil/Paper Theme */
        .custom-alert-box.warning .alert-title { color: #8B4513; } /* Brown */
        .custom-alert-box.warning .alert-icon::before { content: '‚úçÔ∏è'; } /* Pencil/Writing Icon */

        /* ===== Task Link Progress (COMPACT) ===== */
        /* NOTE: Base layout colors are aligned with the new Task glass UI */
        .task-link-container {
            width: 100%;
            max-width: none;
            background: rgba(11,20,42,0.78);
            padding: 12px;
            border-radius: 18px;
            box-shadow: 0 16px 46px rgba(0,0,0,0.34);
            border: 1px solid rgba(255,255,255,0.10);
            margin-bottom: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: stretch;
            font-size: 13px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        .task-link-title {
            font-size: 13px;
            color: rgba(255,255,255,0.88);
            font-weight: 800;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }
        .task-link-progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.10);
            border-radius: 999px;
            overflow: hidden;
        }
        .task-link-progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg,#ff9a00,#ff5a5a);
            border-radius: 8px;
            transition: width .4s ease;
        }

        /* 3D push button style for task link - smaller */
        .task-link-button {
            margin-top: 6px;
            align-self: center;
            background: linear-gradient(145deg,#ff7a7a,#ff3b3b);
            color: #fff;
            border: none;
            padding: 8px 14px;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 6px 0 #b02323, 0 12px 30px rgba(0,0,0,0.12);
            transform: translateY(0);
            transition: all .12s ease;
            letter-spacing: 0.4px;
            text-transform: none;
        }
        .task-link-button:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #b02323, 0 10px 25px rgba(0,0,0,0.10);
        }
        .task-link-button[disabled] {
            background: #ddd;
            color: #888;
            box-shadow: none;
            cursor: not-allowed;
            transform: none;
        }

        /* small helper text removed to keep it minimal as requested */
        .task-link-small {
            font-size: 12px;
            color: #666;
            text-align: center;
        }

        .no-channel-tasks {
            margin-top: 12px;
            font-size: 13px;
            color: rgba(255,255,255,0.75);
            text-align: center;
            background: rgba(255,255,255,0.06);
            padding: 10px 12px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.10);
        }

        /* ===== Withdraw method toggle ===== */
        .withdraw-method-toggle {
            display:flex;
            gap:8px;
            background:#fff;padding:8px;border-radius:12px;border:1px solid #eee;
            align-items:center;justify-content:center;width:100%;
        }
        .method-option {
            display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;cursor:pointer;border:1px solid transparent;
            transition:all .12s ease;
            background:linear-gradient(180deg,#fafafa,#fff);
        }
        .method-option input{display:none}
        .method-option.active{border-color:#ff8c00;box-shadow:0 6px 0 rgba(255,140,0,0.12)}
        .method-option .label {font-weight:700;color:#333;font-size:14px}

        /* ===== Fullscreen withdrawal history page ===== */
        .withdraw-history-full {
            display:flex;flex-direction:column;padding:20px 20px;overflow-y:auto;background:#fff;
  padding-bottom: 96px;
}
        .withdraw-history-header {
            display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px;
        }
        .history-list {
            width:100%;max-width:720px;margin:0 auto;padding-bottom:40px;
        }
        .history-item {
            display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:#f8f8f8;margin-bottom:10px;border:1px solid #eee;
        }
        .history-item .left {display:flex;flex-direction:column;gap:6px}
        .history-item .right {text-align:right}
        .history-item .amount {font-weight:800;color:#ff2a2a}
        .history-empty {text-align:center;color:#777;padding:30px}

        /* ===== Contest Button under Balance (UPDATED TO 45x45 CIRCLE) ===== */
        /* (Now uses an image inside the circular button; styles above) */

        /* ===== Contest Screen Styles (UPDATED LAYOUT) ===== */
        .contest-screen{
            display:flex;
            flex-direction:column;
            align-items:center;
            padding: 18px 14px 96px;
            overflow-y:auto;
            color:#fff;
            position:relative;
            background:
              radial-gradient(1200px 800px at 15% 0%, rgba(0,191,255,0.20), transparent 55%),
              radial-gradient(1000px 700px at 110% 20%, rgba(255,90,162,0.16), transparent 55%),
              linear-gradient(135deg, #07162f, #061029 55%, #060b1f);
        }

        .contest-header{
            width:100%;
            max-width: 460px;
            display:flex;
            flex-direction:column;
            gap:14px;
        }

        .contest-hero{
            position:relative;
            padding: 14px 14px 12px;
            border-radius: 16px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.10);
            backdrop-filter: blur(10px) saturate(130%);
            -webkit-backdrop-filter: blur(10px) saturate(130%);
            box-shadow: 0 18px 50px rgba(0,0,0,0.35);
            overflow:hidden;
        }
        .contest-hero::before{
            content:"";
            position:absolute;
            inset:-1px;
            border-radius: 16px;
            padding: 1px;
            background: linear-gradient(135deg, rgba(0,242,254,0.65), rgba(122,92,255,0.55), rgba(255,90,162,0.55));
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events:none;
            opacity:0.85;
        }

        .contest-hero-top{
            display:flex;
            align-items:flex-start;
            justify-content:space-between;
            gap: 10px;
        }

        .contest-title{
            font-family:'Orbitron','Inter','Vazirmatn', sans-serif;
            font-size: 24px;
            font-weight: 900;
            letter-spacing: 0.4px;
            margin: 0;
            color: rgba(255,255,255,0.96);
            text-shadow: 0 10px 26px rgba(0,0,0,0.40);
        }

        .contest-badge{
            flex: 0 0 auto;
            font-weight: 900;
            font-size: 11px;
            letter-spacing: 0.8px;
            padding: 8px 10px;
            border-radius: 999px;
            background: rgba(255,255,255,0.07);
            border: 1px solid rgba(255,255,255,0.12);
            color: rgba(255,255,255,0.90);
            text-transform: uppercase;
            white-space: nowrap;
        }

        .contest-meta{
            margin-top: 10px;
            display:grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .meta-pill{
            border-radius: 14px;
            padding: 10px 10px;
            background: rgba(255,255,255,0.04);
            border: 1px solid rgba(255,255,255,0.10);
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.04);
            display:flex;
            flex-direction:column;
            gap: 6px;
            align-items:flex-start;
            min-width: 0;
        }

        .meta-label{
            font-size: 12px;
            font-weight: 800;
            color: rgba(255,255,255,0.70);
            letter-spacing: 0.2px;
        }

        .meta-value,
        .contest-countdown{
            font-size: 16px;
            font-weight: 900;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255,215,0,0.22);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Prize list */
        .prize-vertical-box{
            display:flex;
            flex-direction:column;
            gap: 10px;
            padding: 12px;
            border-radius: 16px;
            background: rgba(255,255,255,0.04);
            border: 1px solid rgba(255,255,255,0.10);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 18px 50px rgba(0,0,0,0.30);
        }

        .prize-item{
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap: 10px;
            padding: 12px 12px;
            border-radius: 14px;
            background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
            border: 1px solid rgba(255,255,255,0.10);
            overflow:hidden;
        }
        .prize-item:hover{
            transform: translateY(-2px);
            box-shadow: 0 16px 34px rgba(0,0,0,0.22);
        }

        .prize-item.prize-top{
            border-color: rgba(255,215,0,0.22);
            box-shadow: 0 22px 55px rgba(255,215,0,0.06), 0 18px 50px rgba(0,0,0,0.28);
            background: linear-gradient(180deg, rgba(255,215,0,0.10), rgba(255,255,255,0.03));
        }
        .prize-item.prize-second{
            border-color: rgba(192,192,192,0.22);
            background: linear-gradient(180deg, rgba(210,210,210,0.08), rgba(255,255,255,0.02));
        }

        .prize-left{
            display:flex;
            align-items:center;
            gap: 10px;
            min-width: 0;
        }
        .prize-medal{
            width: 36px;
            height: 36px;
            border-radius: 12px;
            display:flex;
            align-items:center;
            justify-content:center;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.14);
            box-shadow: 0 10px 24px rgba(0,0,0,0.25);
            flex: 0 0 36px;
            font-size: 18px;
        }
        .prize-text{
            display:flex;
            flex-direction:column;
            gap: 3px;
            min-width: 0;
        }
        .prize-label{
            font-weight: 900;
            font-size: 14px;
            color: rgba(255,255,255,0.95);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .prize-sub{
            font-size: 12px;
            font-weight: 800;
            color: rgba(255,255,255,0.68);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .prize-amount{
            display:flex;
            align-items:baseline;
            gap: 6px;
            flex: 0 0 auto;
            font-weight: 900;
            font-variant-numeric: tabular-nums;
        }
        .prize-value{
            font-size: 18px;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255,215,0,0.18);
        }
        .prize-unit{
            font-size: 12px;
            color: rgba(255,255,255,0.75);
            letter-spacing: 0.4px;
        }

        /* Tickets container */
        .contest-tickets-container{
            width: 100%;
            max-width: 460px;
            margin-top: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255,255,255,0.10);
            padding: 12px;
            border-radius: 16px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display:flex;
            gap: 12px;
            align-items:center;
            justify-content:space-between;
            box-shadow: 0 18px 50px rgba(0,0,0,0.25);
        }
        .contest-ticket-row{
            display:flex;
            flex-direction:column;
            gap: 6px;
            min-width: 0;
        }
        .contest-ticket-label{
            font-size: 12px;
            font-weight: 800;
            color: rgba(255,255,255,0.75);
            display:flex;
            align-items:center;
            gap: 6px;
        }
        .contest-ticket-value{
            font-size: 16px;
            font-weight: 900;
            color: rgba(255,255,255,0.95);
            white-space: nowrap;
            overflow:hidden;
            text-overflow: ellipsis;
        }

        .contest-buttons-horizontal{
            display:flex;
            gap: 10px;
            justify-content:center;
            margin-top: 14px;
        }

        .contest-watch-btn, .contest-rank-btn{
            background: linear-gradient(145deg,var(--primary-start),var(--primary-end));
            color:#fff;
            border:none;
            padding: 12px 18px;
            border-radius: 14px;
            font-size: 14px;
            font-weight: 900;
            cursor:pointer;
            box-shadow: 0 6px 0 var(--primary-shadow), 0 16px 34px rgba(0,0,0,.28);
            transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
            white-space: nowrap;
        }
        .contest-watch-btn.locked{opacity:0.6;cursor:not-allowed;box-shadow:none;transform:none}
        .contest-watch-btn:hover, .contest-rank-btn:hover{transform:translateY(-2px);filter:saturate(1.05)}
        .contest-watch-btn:active, .contest-rank-btn:active{transform:translateY(2px);box-shadow: 0 4px 0 var(--primary-shadow), 0 10px 22px rgba(0,0,0,.22);}

        .contest-back-btn{
            position: fixed;
            bottom: 18px;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            max-width: 420px;
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.14);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: rgba(255,255,255,0.92);
            padding: 14px 16px;
            border-radius: 18px;
            font-size: 15px;
            font-weight: 900;
            cursor: pointer;
            box-shadow: 0 18px 55px rgba(0,0,0,0.40);
            z-index: 1000;
        }
        .contest-back-btn:active{
            transform: translateX(-50%) translateY(1px);
            filter: brightness(0.98);
        }

        @media (max-width: 360px){
            .contest-title{font-size:22px}
            .contest-badge{font-size:10px}
            .meta-value, .contest-countdown{font-size:15px}
            .prize-value{font-size:17px}
        }

/* ===== Contest Ranking Screen ===== */
        .contest-rank-screen {
            display: flex;
            flex-direction: column;
            padding: 14px;
            overflow-y: auto;
            background: linear-gradient(135deg, #001f3f, #003366);
            color: #fff;
            align-items:center;
        }
        .contest-rank-header {
            display: flex;
            justify-content:space-between;
            align-items:center;
            gap: 10px;
            width: 100%;
            max-width: 720px;
            margin-bottom: 12px;
        }
        .contest-rank-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 24px;
            color: #00bfff;
            font-weight: 700;
            text-shadow: 0 0 8px #00bfff;
        }
        .contest-rank-list {
            width: 100%;
            max-width: 720px;
            margin: 0 auto;
            padding-bottom: 40px;
            box-sizing: border-box;
        }

        /* NEW: Personal user info box (golden) - placed inside ranking page for visibility */
        .personal-info-box {
            width: 100%;
            max-width: 720px;
            background: linear-gradient(90deg, #2b2a2a 0%, rgba(255, 215, 0, 0.06) 100%);
            border: 2px solid rgba(255, 215, 0, 0.25);
            border-radius: 12px;
            padding: 10px 12px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 8px 30px rgba(255,215,0,0.06), inset 0 0 12px rgba(255,215,0,0.02);
            color: #fff;
            background-color: rgba(32,24,12,0.12);
        }
        .personal-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            object-fit: cover;
            flex: 0 0 64px;
            border: 2px solid rgba(255,215,0,0.9);
            background: #fff;
        }
        .personal-info-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            flex: 1 1 auto;
        }
        .personal-id, .personal-username, .personal-tickets, .personal-rank {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 0;
        }
        .personal-id .label, .personal-username .label, .personal-tickets .label, .personal-rank .label {
            font-size: 12px;
            color: rgba(255,255,255,0.75);
            font-weight: 700;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: .6px;
        }
        .personal-id .value, .personal-username .value, .personal-tickets .value, .personal-rank .value {
            font-size: 16px;
            font-weight: 900;
            color: #ffd700;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 220px;
        }
        /* Ensure username sits visually centered between id and tickets */
        .personal-username .value {
            color: #fff;
            font-size: 18px;
            letter-spacing: .3px;
            color: #ffd700;
        }

        /* NEW: make golden box stand out on small screens */
        @media (max-width:720px) {
            .personal-info-box { padding: 8px; gap: 10px; }
            .personal-avatar { width:56px; height:56px; flex:0 0 56px; }
            .personal-id .value, .personal-username .value, .personal-tickets .value { font-size: 15px; }
            .personal-username .value { font-size: 16px; }
            .contest-rank-list { padding: 6px; }
        }

        /* NEW: Ranking row styles to satisfy layout requirements */
        .contest-rank-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 12px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.03);
            margin-bottom: 10px;
            backdrop-filter: blur(6px);
            overflow: hidden;
            width: 100%;
            box-sizing: border-box;
        }
        .contest-rank-item:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.25); }

        /* fixed-size circular avatar to avoid layout shifts */
        .contest-rank-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            object-fit: cover;
            flex: 0 0 56px;
            border: 2px solid rgba(255,255,255,0.06);
            background: #ffffff;
        }

        /* Name column: show first_name, add 'You' note if current */
        /* Make the name flexible so userid and tickets can have fixed space to show full values */
        .contest-rank-name {
            font-size: 14px; /* slightly smaller to allow more room */
            font-weight: 800;
            color: #e6f7ff;
            white-space: nowrap; /* keep single line */
            overflow: hidden; /* allow truncation only if absolutely necessary */
            text-overflow: ellipsis;
            min-width: 0;
            flex: 1 1 auto; /* flexible, take remaining space */
            max-width: none; /* remove previous max-width to allow the layout to decide */
            display:flex;
            flex-direction:column;
            gap:2px;
        }
        .contest-rank-name .name-main { font-weight:900; color:#e6f7ff; }
        .contest-rank-username { font-size:12px; color: rgba(255,255,255,0.7); font-weight:700; letter-spacing:0.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

        /* user id column - reserve fixed width so the id can display fully */
        .contest-rank-userid {
            font-size: 13px; /* slightly smaller as requested */
            color: #cfeeff;
            white-space: nowrap;
            overflow: visible; /* allow full display */
            text-overflow: clip;
            flex: 0 0 120px; /* fixed width to ensure full id visibility */
            max-width: 120px;
            text-align: left;
        }

        /* tickets - reserve fixed width and slightly smaller font so full ticket numbers like "400" display without truncation */
        .contest-rank-tickets {
            font-size: 14px; /* slightly reduced */
            font-weight: 900;
            color: #ffd700;
            white-space: nowrap;
            overflow: visible; /* show full number */
            text-overflow: clip;
            text-align: right;
            flex: 0 0 110px; /* fixed width for tickets column */
            max-width: 110px;
            margin-left: 8px;
        }

        /* position (rank) shown at the far right */
        .contest-rank-position {
            font-size: 16px;
            font-weight: 700;
            color: #00bfff;
            width: 44px;
            text-align: center;
            flex: 0 0 44px;
        }

        /* Highlight current user row without changing order/position */
        .contest-rank-item.current-player {
            border: 1px solid rgba(255,215,0,0.12);
            background: linear-gradient(90deg, rgba(255,215,0,0.03), rgba(0,191,255,0.01));
            box-shadow: 0 8px 20px rgba(0,191,255,0.04);
        }
        .contest-rank-item.current-player .contest-rank-name { color: #ffd700; }
        .contest-rank-item.current-player .contest-rank-tickets { color: #ffd700; font-weight:900; }

        /* ensure the whole UI never produces horizontal scroll */
        html, body { max-width:100%; overflow-x:hidden; }

        /* Hide top user info when ranking screen is active (added/removed via body class) */
        .hide-top-user .user-circle,
        .hide-top-user #userName,
        .hide-top-user #userId {
            display: none !important;
        }

        /* Make ranking list responsive and prevent horizontal overflow */
        @media (max-width: 420px) {
            .contest-rank-name { font-size: 13px; }
            .contest-rank-userid { flex: 0 0 90px; max-width: 90px; font-size: 12px; }
            .contest-rank-tickets { flex: 0 0 80px; max-width: 80px; font-size: 13px; }
            .contest-rank-position { width: 40px; flex: 0 0 40px; }
            .contest-rank-avatar { width: 48px; height: 48px; flex: 0 0 48px; }
            .personal-avatar { width:48px; height:48px; flex:0 0 48px; }
            .progress-group-container { padding: 12px; gap: 12px; }
            .daily-progress-container, .spin-progress-container { width: 100%; padding: 14px; border-radius: 14px; }
            .daily-progress-text, .spin-progress-text { font-size:13px; }
            .daily-progress-bar, .spin-progress-bar { height: 12px; }
        }

        /* ===== Ticket image smaller per request ===== */
        .contest-ticket-img {
            width: 26px;
            height: 26px;
            object-fit: cover;
            display: inline-block;
        }

        /* =========================
           NEW: Toast Notification CSS (IMPROVED CONTRAST & SIZE)
           Glassmorphism + Top Toast, larger, more legible, contains multi-line details
           ========================= */

        .toast-container {
            position: fixed;
            top: 14px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: center;
            width: 100%;
            max-width: 720px;
            padding: 8px;
            z-index: 1000000; /* very high to be above UI but non-blocking */
            pointer-events: none; /* do not block interactions */
        }

        /* Larger, higher-contrast black notification */
        .toast {
            pointer-events: none;
            width: calc(100% - 32px);
            max-width: 700px;
            display: flex;
            align-items: center;
            gap: 14px;
            background: #000; /* solid black for max contrast as requested */
            border-radius: 14px;
            padding: 14px 16px; /* increased padding */
            color: #fff; /* white text */
            box-shadow: 0 12px 40px rgba(0,0,0,0.6);
            backdrop-filter: blur(6px) saturate(120%);
            border: 1px solid rgba(255,255,255,0.06);
            transform-origin: top center;
            opacity: 0;
            transform: translateY(-12px) scale(0.995);
            font-family: 'Vazirmatn', sans-serif;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            will-change: transform, opacity;
        }

        .toast.show {
            animation: toastIn 320ms cubic-bezier(.2,.9,.2,1) forwards;
        }
        .toast.hide {
            animation: toastOut 260ms cubic-bezier(.2,.9,.2,1) forwards;
        }

        /* Content layout */
        .toast .toast-icon {
            flex: 0 0 52px;
            width: 52px;
            height: 52px;
            border-radius: 12px;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:22px;
            background: #111; /* darker tile for icon as requested */
            color: #fff;
            box-shadow: inset 0 -2px 6px rgba(0,0,0,0.2);
        }
        .toast .toast-content {
            display:flex;
            flex-direction:column;
            gap:6px;
            min-width: 0;
        }
        .toast .toast-title {
            font-weight: 900;
            font-size: 16px; /* increased size */
            color: #ffffff;
            line-height: 1.05;
            white-space:normal;
            font-family: 'Orbitron', 'Vazirmatn', sans-serif; /* stronger numeric-friendly font */
        }
        .toast .toast-message {
            font-size: 14px; /* increased size */
            color: rgba(255,255,255,0.95);
            line-height: 1.25;
            max-height: 120px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: pre-wrap;
            font-weight: 700;
        }

        /* Type accents are still preserved by border-left */
        .toast--success { border-left: 6px solid var(--toast-success); }
        .toast--error   { border-left: 6px solid var(--toast-error);   }
        .toast--warning { border-left: 6px solid var(--toast-warning); }
        .toast--info    { border-left: 6px solid var(--toast-info);    }

        /* Entrance / Exit animations */
        @keyframes toastIn {
            0% { opacity: 0; transform: translateY(-14px) scale(.995); }
            60% { opacity: 1; transform: translateY(8px) scale(1.02); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        @keyframes toastOut {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-12px) scale(.995); }
        }

        /* Error shake animation (subtle) */
        @keyframes toastShake {
            0% { transform: translateX(0); }
            15% { transform: translateX(-6px); }
            30% { transform: translateX(6px); }
            45% { transform: translateX(-4px); }
            60% { transform: translateX(4px); }
            75% { transform: translateX(-2px); }
            100% { transform: translateX(0); }
        }

        .toast--error.shake {
            animation: toastIn 260ms cubic-bezier(.2,.9,.2,1) forwards, toastShake 420ms ease-in-out 0ms;
        }

        /* Small screens tweak */
        @media (max-width: 480px) {
            .toast { padding: 10px 12px; border-radius: 10px; max-width: calc(100% - 24px); gap: 10px; }
            .toast .toast-icon { width: 44px; height: 44px; font-size:18px; border-radius:10px; }
            .toast .toast-title { font-size:15px; }
            .toast .toast-message { font-size:13px; }
            .toast-container { top: 8px; gap:8px; padding: 4px; }
        }

        /* small helper to visually hide old overlay (we won't use it anymore but keep DOM for compatibility) */
        .custom-alert-overlay { display: none !important; opacity: 0 !important; pointer-events: none !important; }

    

        /* ============================
           Invite Screen (v3 / EN / solid)
           ============================ */
        .invite-screen{
            display:flex;
            flex-direction:column;
            align-items:stretch;
            padding: 16px 16px 26px;
            overflow-y:auto;
            background:
                radial-gradient(900px 500px at 10% 10%, rgba(0,242,254,0.18), rgba(0,0,0,0) 60%),
                radial-gradient(900px 500px at 90% 20%, rgba(255,90,162,0.14), rgba(0,0,0,0) 60%),
                linear-gradient(180deg, #0b1220 0%, #070b13 100%);
        }
        .invite-screen *{ box-sizing: border-box; }
        .invite-shell{
            width:100%;
            max-width: 460px;
            margin: 0 auto;
            display:flex;
            flex-direction:column;
            gap: 14px;
            position: relative;
            z-index: 1;
            font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        }

        .invite-topbar{
            display:flex;
            align-items:center;
            gap: 12px;
            padding: 6px 2px;
        }
        .invite-back-icon{
            width: 44px;
            height: 44px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.14);
            background: #0f1a2b;
            color: #fff;
            font-size: 18px;
            display:flex;
            align-items:center;
            justify-content:center;
            box-shadow: 0 10px 22px rgba(0,0,0,0.38);
            transition: transform .15s ease, filter .15s ease;
        }
        .invite-back-icon:active{ transform: translateY(1px) scale(0.99); }
        .invite-topbar-title{ display:flex; flex-direction:column; line-height:1.1; }
        .invite-topbar-kicker{
            font-size: 12px;
            letter-spacing: .18em;
            text-transform: uppercase;
            color: rgba(255,255,255,0.62);
        }
        .invite-topbar-headline{
            font-size: 18px;
            font-weight: 800;
            color: #fff;
        }

        .invite-hero-card{
            display:flex;
            gap: 14px;
            padding: 14px;
            border-radius: 18px;
            border: 1px solid rgba(255,255,255,0.12);
            background: linear-gradient(180deg, #0f1a2b 0%, #0b1424 100%);
            box-shadow: 0 18px 40px rgba(0,0,0,0.45);
            position: relative;
            overflow:hidden;
        }
        .invite-hero-card::after{
            content:"";
            position:absolute;
            inset:-2px;
            background: radial-gradient(420px 240px at 20% 20%, rgba(0,242,254,0.12), rgba(0,0,0,0) 65%),
                        radial-gradient(420px 240px at 80% 10%, rgba(122,92,255,0.12), rgba(0,0,0,0) 65%);
            pointer-events:none;
        }
        .invite-hero-art{
            width: 92px;
            height: 76px;
            border-radius: 16px;
            background: url(refal.png) center/cover no-repeat, linear-gradient(135deg, #00f2fe 0%, #7a5cff 45%, #ff5aa2 100%);
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.18), 0 14px 28px rgba(0,0,0,0.35);
            flex: 0 0 auto;
            position: relative;
            z-index: 1;
        }
        .invite-hero-text{ position:relative; z-index:1; }
        .invite-hero-title{
            font-size: 18px;
            font-weight: 900;
            color:#fff;
        }
        .invite-hero-sub{
            margin-top: 6px;
            font-size: 13px;
            color: rgba(255,255,255,0.78);
            line-height: 1.35;
        }
        .invite-hero-sub strong{ color:#fff; font-weight: 900; }

        .invite-stats{
            display:grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 10px;
        }
        .invite-stat{
            padding: 12px 12px;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.10);
            background: #0f1a2b;
            box-shadow: 0 14px 30px rgba(0,0,0,0.35);
        }
        .invite-stat .label{
            font-size: 11px;
            letter-spacing: .12em;
            text-transform: uppercase;
            color: rgba(255,255,255,0.60);
        }
        .invite-stat .value{
            margin-top: 6px;
            font-size: 18px;
            font-weight: 900;
            color: #fff;
        }
        .pill{
            display:inline-flex;
            align-items:center;
            justify-content:center;
            padding: 6px 10px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 800;
            background: linear-gradient(135deg, #00f2fe 0%, #7a5cff 55%, #ff5aa2 100%);
            color: #0b1220;
        }

        .invite-link-card,
        .invite-note-card{
            padding: 14px;
            border-radius: 18px;
            border: 1px solid rgba(255,255,255,0.12);
            background: #0f1a2b;
            box-shadow: 0 18px 40px rgba(0,0,0,0.45);
        }
        .invite-link-label{
            font-size: 12px;
            letter-spacing: .14em;
            text-transform: uppercase;
            color: rgba(255,255,255,0.68);
            margin-bottom: 10px;
        }
        .invite-link-row{
            display:flex;
            gap: 10px;
            align-items:center;
        }
        .invite-link-input{
            width:100%;
            height: 46px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.12);
            background: #0b1424;
            color: #fff;
            padding: 0 12px;
            font-size: 13px;
            outline: none;
        }
        .invite-mini-btn{
            height: 46px;
            padding: 0 14px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.14);
            background: #14213a;
            color: #fff;
            font-weight: 800;
            box-shadow: 0 14px 28px rgba(0,0,0,0.35);
            transition: transform .15s ease;
            white-space: nowrap;
        }
        .invite-mini-btn:active{ transform: translateY(1px) scale(0.99); }

        .invite-actions{
            display:flex;
            gap: 10px;
            margin-top: 12px;
        }
        .invite-primary-btn{
            flex: 1 1 auto;
            height: 48px;
            border-radius: 16px;
            border: none;
            background: linear-gradient(135deg, #00f2fe 0%, #7a5cff 55%, #ff5aa2 100%);
            color: #0b1220;
            font-weight: 900;
            letter-spacing: .02em;
            box-shadow: 0 18px 34px rgba(0,0,0,0.45);
            transition: transform .15s ease, filter .15s ease;
        }
        .invite-primary-btn:active{ transform: translateY(1px) scale(0.99); }

        .invite-ghost-btn{
            flex: 0 0 auto;
            height: 48px;
            padding: 0 14px;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.14);
            background: #0b1424;
            color: #fff;
            font-weight: 800;
        }

        .invite-hint{
            margin-top: 10px;
            font-size: 12px;
            color: rgba(255,255,255,0.72);
            line-height: 1.35;
        }

        .invite-note-title{
            font-size: 14px;
            font-weight: 900;
            color: #fff;
            margin-bottom: 10px;
        }
        .invite-note-list{
            margin: 0;
            padding-left: 18px;
            color: rgba(255,255,255,0.80);
            font-size: 13px;
            line-height: 1.45;
        }
        .invite-note-list li{ margin: 6px 0; }

        .invite-back-btn{
            background: #0f1a2b !important;
            border: 1px solid rgba(255,255,255,0.14) !important;
            color: #fff !important;
            border-radius: 18px !important;
            box-shadow: 0 18px 40px rgba(0,0,0,0.45) !important;
        }

        @media (max-width: 360px){
            .invite-stats{ grid-template-columns: 1fr; }
        }



/* ===== Withdraw Page: Ultra Pro Upgrade (2026) ===== */
.withdraw-screen{
  background: radial-gradient(1200px 800px at 20% -10%, rgba(122,92,255,0.45), transparent 55%),
              radial-gradient(900px 700px at 110% 10%, rgba(255,90,162,0.35), transparent 55%),
              linear-gradient(180deg, #060c18 0%, #070f22 50%, #050b16 100%);
  padding: 18px 16px 26px;
}

.withdraw-container{max-width:460px; gap:14px;}

.w-hero{
  background: linear-gradient(180deg, #0c1630 0%, #0a1328 100%);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 22px;
  padding: 16px 16px 14px;
  box-shadow: 0 18px 55px rgba(0,0,0,0.38);
}
.w-hero-top{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px;}
.w-badge{
  display:inline-flex; align-items:center; gap:8px;
  font-weight:800; letter-spacing:.3px; font-size:12px;
  color: rgba(255,255,255,0.86);
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.10);
  padding: 8px 10px;
  border-radius: 999px;
}
.w-icon-btn{
  width:38px; height:38px; border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
  cursor:pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.w-icon-btn:active{transform: translateY(1px);}
.w-hero-title{
  font-family: 'Orbitron', sans-serif;
  font-size: 22px;
  color: rgba(255,255,255,0.95);
  letter-spacing: .2px;
  margin-bottom: 6px;
}
.w-hero-sub{
  color: rgba(255,255,255,0.72);
  font-size: 13px;
  line-height: 1.45;
}

.w-balance-card{
  background: #0b142a;
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 22px;
  padding: 16px;
  box-shadow: 0 16px 45px rgba(0,0,0,0.35);
}
.w-balance-label{color: rgba(255,255,255,0.68); font-size: 12px; font-weight: 700;}
.w-balance-row{display:flex; align-items:baseline; gap:10px; margin-top:8px;}
.w-balance-value{
  font-family: 'Orbitron', sans-serif;
  font-size: 34px;
  color: rgba(255,255,255,0.98);
  letter-spacing: .4px;
}
.w-balance-unit{color: rgba(255,255,255,0.72); font-weight:800; font-size: 12px; letter-spacing:.5px;}
.w-balance-meta{display:flex; gap:8px; flex-wrap:wrap; margin-top:12px;}
.w-meta-pill{
  color: rgba(255,255,255,0.78);
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  padding: 7px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
}

.w-panel{
  background: #0b142a;
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 22px;
  padding: 14px;
  box-shadow: 0 16px 45px rgba(0,0,0,0.30);
}
.w-panel-head{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px;}
.w-panel-title{
  color: rgba(255,255,255,0.92);
  font-weight: 900;
  font-size: 13px;
  letter-spacing: .2px;
  margin-bottom: 10px;
}
.w-panel-head .w-panel-title{margin-bottom:0;}
.w-link-btn{
  border: none;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  color: rgba(255,255,255,0.88);
  font-weight: 800;
  font-size: 12px;
  padding: 9px 12px;
  border-radius: 12px;
  cursor: pointer;
  transition: transform .12s ease, background .12s ease;
}
.w-link-btn:active{transform: translateY(1px);}

.withdraw-method-toggle{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.method-option{
  background: #0f1f3a;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 18px;
  padding: 12px;
  box-shadow: 0 14px 40px rgba(0,0,0,0.30);
  transition: transform .14s ease, box-shadow .14s ease, border-color .14s ease, background .14s ease;
  position: relative;
  overflow:hidden;
}
.method-option::after{
  content:"";
  position:absolute; inset:-40%;
  background: radial-gradient(circle at 20% 30%, rgba(122,92,255,0.35), transparent 55%),
              radial-gradient(circle at 80% 40%, rgba(255,90,162,0.25), transparent 55%);
  opacity: 0;
  transition: opacity .18s ease;
}
.method-option *{position: relative;}
.method-option .method-icon{font-size: 18px;}
.method-option .label{color: rgba(255,255,255,0.92); font-weight: 900; font-size: 13px;}
.w-method-note{
  display:block;
  margin-top:4px;
  font-size: 11px;
  color: rgba(255,255,255,0.62);
  font-weight: 700;
}
.method-option.active{
  border-color: rgba(255,255,255,0.22);
  transform: translateY(-1px);
  box-shadow: 0 18px 55px rgba(0,0,0,0.38);
}
.method-option.active::after{opacity:1;}

.w-hint{
  margin-top: 10px;
  color: rgba(255,255,255,0.70);
  font-size: 12px;
  line-height: 1.45;
}

.withdraw-screen .input-group label{
  color: rgba(255,255,255,0.78);
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .2px;
}
.withdraw-screen .input-group input{
  background: #081127;
  border: 1px solid rgba(255,255,255,0.12);
  color: rgba(255,255,255,0.92);
  border-radius: 16px;
  padding: 12px 12px;
}
.withdraw-screen .input-group input::placeholder{color: rgba(255,255,255,0.48);}
.withdraw-screen .input-group input:focus{
  border-color: rgba(122,92,255,0.65);
  box-shadow: 0 0 0 4px rgba(122,92,255,0.16);
}

.w-chips{display:flex; gap:8px; flex-wrap:wrap;}
.w-chip{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.90);
  padding: 9px 12px;
  border-radius: 999px;
  font-weight: 900;
  font-size: 12px;
  cursor: pointer;
  transition: transform .12s ease, background .12s ease;
}
.w-chip:active{transform: translateY(1px);}

.withdraw-min-note{
  color: rgba(255,255,255,0.60);
  font-size: 12px;
  margin-top: 10px;
}

.withdraw-btn.w-primary{
  width: 100%;
  border-radius: 18px;
  padding: 14px 16px;
  font-weight: 1000;
  letter-spacing: .2px;
  background: linear-gradient(90deg, var(--neon-start), var(--neon-mid), var(--neon-end));
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 18px 55px rgba(0,0,0,0.42);
}
.withdraw-btn.w-primary:disabled{
  opacity: 0.45;
  filter: saturate(0.75);
  box-shadow: none;
}
.withdraw-secondary-btn.w-secondary{
  width: 100%;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.90);
  font-weight: 900;
  padding: 13px 14px;
}
.withdraw-secondary-btn.w-secondary:active{transform: translateY(1px);}

.withdraw-info-bar{
  background: #0b142a;
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.78);
  border-radius: 18px;
}

/* ===== Withdrawal History Upgrade ===== */
.withdraw-history-screen{
  background: radial-gradient(1000px 700px at 10% 0%, rgba(122,92,255,0.35), transparent 55%),
              radial-gradient(900px 700px at 110% 20%, rgba(255,90,162,0.25), transparent 55%),
              linear-gradient(180deg, #060c18 0%, #050b16 100%);
  padding: 0;              /* scrolling moved to inner container so the bottom alert stays fixed */
  overflow: hidden;
}
.withdraw-history-full{
  background: transparent;
  max-width: 720px;
  margin: 0 auto;
  flex: 1;
  height: 100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding: 18px 16px 120px; /* extra bottom space so content never hides behind the fixed alert */
}

.w-history-hero{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  background: linear-gradient(180deg, #0c1630 0%, #0a1328 100%);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 22px;
  padding: 16px;
  box-shadow: 0 18px 55px rgba(0,0,0,0.38);
  margin-bottom: 12px;
  position: sticky;
  top: 12px;
  z-index: 200;
}
.w-history-title{
  font-family: 'Orbitron', sans-serif;
  color: rgba(255,255,255,0.95);
  font-size: 18px;
  font-weight: 900;
  margin-bottom: 4px;
}
.w-history-sub{
  color: rgba(255,255,255,0.70);
  font-size: 12px;
  line-height: 1.45;
}
.back-btn.w-history-back{
  border-radius: 14px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.14);
  color: rgba(255,255,255,0.90);
  font-weight: 900;
  padding: 10px 14px;
}
.back-btn.w-history-back:active{transform: translateY(1px);}

.history-list{
  width: 100%;
  max-width: 720px;
  margin: 0 auto;
  padding-bottom: 50px;
}

.history-item{
  background: #0b142a;
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 18px;
  padding: 14px;
  display:flex;
  justify-content:space-between;
  gap: 12px;
  box-shadow: 0 16px 45px rgba(0,0,0,0.32);
  margin-bottom: 10px;
}
.history-item .left{color: rgba(255,255,255,0.80); font-size: 12px; line-height: 1.5;}
.history-item .left strong{color: rgba(255,255,255,0.92);}
.history-item .right{text-align:right;}
.history-item .amount{
  font-family: 'Orbitron', sans-serif;
  color: rgba(255,255,255,0.95);
  font-size: 14px;
  font-weight: 900;
  margin-bottom: 6px;
}
.history-row{display:flex;gap:8px;align-items:flex-start;}
.history-row strong{min-width:52px;}
.history-dest{word-break:break-all;}
.status-pending, .status-completed{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 7px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  border: 1px solid rgba(255,255,255,0.14);
}
.status-pending{background: rgba(255,183,77,0.14); color: rgba(255,211,132,0.95);}
.status-completed{background: rgba(70,255,188,0.12); color: rgba(140,255,212,0.95);}

.history-empty{
  background: #0b142a;
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.78);
  border-radius: 18px;
  padding: 16px;
  text-align:center;
  box-shadow: 0 16px 45px rgba(0,0,0,0.32);
}

/* Small screens */
@media (max-width: 380px){
  .withdraw-method-toggle{grid-template-columns: 1fr;}
}

/* === Withdraw refinements (v3) === */
:root{
  --app-font: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* One font across the app */
html, body, button, input, textarea, select, .app, .app *{
  font-family: var(--app-font) !important;
}

/* Make header compact (title removed) */
.withdraw-screen{ padding-bottom: 92px; }
.w-hero{ padding:14px 14px 12px; }
.w-hero .w-badge{ font-weight:800; letter-spacing:.2px; }

/* Numbers clarity */
.w-balance-value,
#withdrawBalanceDisplay,
#withdrawAmount,
.withdrawal-amount,
.withdrawal-balance,
.w-meta-pill{
  font-variant-numeric: tabular-nums;
  letter-spacing: .2px;
}

/* Method switch (segmented, solid) */
.withdraw-method-toggle{
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.method-option{
  background:#0d2343;
  border:1px solid rgba(255,255,255,0.14);
  box-shadow:none;
  border-radius:16px;
  padding:14px 14px;
}

.method-option .label{
  color:#e2e8f0;
  font-weight:800;
  font-size:13px;
}

.method-option .method-icon{
  font-size:18px;
  width:28px;
  height:28px;
  border-radius:10px;
  background:rgba(255,255,255,0.10);
}

.method-option.active{
  background:#ffffff;
  border-color:#ffffff;
  box-shadow:0 10px 26px rgba(0,0,0,0.18);
}

.method-option.active .label{
  color:#0f172a;
}

.method-option.active .method-icon{
  background:rgba(15,23,42,0.06);
}

/* Actions row: tidy + equal buttons */
.w-actions{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  margin-top:14px;
}

.withdraw-btn{
  width:100%;
  height:48px;
  border-radius:16px;
  font-weight:800;
}

/* Bottom alert (restored style) */
.w-bottom-alert{
  position:fixed;
  left:50%;
  bottom:calc(12px + env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(380px, calc(100% - 32px));
  background:rgba(11,26,51,0.55);
  border:1px solid rgba(255,255,255,0.16);
  color:#e7eefc;
  padding:10px 12px;
  border-radius:14px;
  box-shadow:0 10px 24px rgba(0,0,0,0.22);
  display:flex;
  gap:10px;
  align-items:flex-start;
  z-index:9000;
  font-size:12.5px;
  line-height:1.35;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.w-alert-dot{
  width:10px;
  height:10px;
  border-radius:999px;
  margin-top:4px;
  background:#38bdf8;
  flex:0 0 auto;
}


        /* ===== Withdraw Screen - Modern Controls (v5) ===== */
        .w-actions{
            gap:10px;
            margin-top:10px;
        }
        .withdraw-btn{
            height:46px;
            border-radius:16px;
            font-size:15px;
            letter-spacing:0.2px;
            -webkit-tap-highlight-color: transparent;
        }
        .withdraw-btn:active{ transform:translateY(1px); }

        /* Anti double-tap / loading state */
        .withdraw-btn.is-loading{
            opacity:0.85;
            pointer-events:none;
        }
        .withdraw-btn.is-loading::after{
            content:"";
            width:16px;height:16px;
            border-radius:999px;
            border:2px solid rgba(255,255,255,0.55);
            border-top-color: rgba(255,255,255,0.10);
            margin-left:10px;
            display:inline-block;
            vertical-align:middle;
            animation: wspin 0.9s linear infinite;
        }
        @keyframes wspin{ to { transform:rotate(360deg); } }

        /* Modern segmented method toggle */
        .withdraw-method-toggle{
            display:flex;
            gap:6px;
            padding:6px;
            border-radius:18px;
            background:rgba(255,255,255,0.08);
            border:1px solid rgba(255,255,255,0.14);
            box-shadow:0 14px 34px rgba(0,0,0,0.22);
        }
        .method-option{
            flex:1;
            background:transparent;
            border:0;
            box-shadow:none;
            padding:12px 10px;
            border-radius:14px;
            color:rgba(255,255,255,0.86);
            justify-content:center;
            gap:8px;
            transition:transform .12s ease, background .12s ease, color .12s ease;
        }
        .method-option .label{ font-weight:800; }
        .method-option .method-icon{ filter:drop-shadow(0 6px 14px rgba(0,0,0,0.22)); }
        .method-option:hover{ transform:translateY(-1px); }
        .method-option.active{
            background:rgba(255,255,255,0.96);
            color:#0b1d3a;
            box-shadow:0 12px 26px rgba(0,0,0,0.18);
        }
        .method-option.active .label{ color:#0b1d3a; }
        .method-option input{ display:none; }

        /* Bottom alert: fixed, subtle, and never above the loader */
        .w-bottom-alert{
            pointer-events:none;
            font-size:12.5px;
            line-height:1.35;
        }

        @media (max-width:360px){
            .withdraw-btn{ height:44px; font-size:14.5px; }
            .method-option{ padding:11px 8px; }
        }


/* ===== Modern typography ===== */
:root{
  --font-sans: 'Plus Jakarta Sans','Inter',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
}
body{ font-family: var(--font-sans); }

/* ===== Contest (English/LTR polish) ===== */
.contest-header{ direction:ltr; }
.contest-title{ letter-spacing:-0.02em; }
.contest-badge{ backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
.meta-pill{ border: 1px solid rgba(255,255,255,0.10); }
.prize-item{ border: 1px solid rgba(255,255,255,0.10); }

/* ===== Leaderboard redesign ===== */
.contest-rank-screen{
  background: radial-gradient(900px 500px at 20% 0%, rgba(255,215,0,0.18), transparent 60%),
              radial-gradient(900px 500px at 90% 20%, rgba(0,170,255,0.16), transparent 55%),
              linear-gradient(135deg, #07101d, #0b1a2f 55%, #0a1730);
  color:#fff;
  padding: 14px;
}
.contest-rank-header{
  position: sticky;
  top: 0;
  z-index: 3;
  padding: 10px 10px 12px;
  margin: -14px -14px 12px;
  background: rgba(7,16,29,0.18); /* more transparent */
  border-bottom: 0;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}
.contest-rank-title{
  margin:0;
  font-weight: 800;
  font-size: 18px;
  letter-spacing: -0.02em;
}
.rank-header-left{
  display:flex;
  flex-direction:column;
  min-width:0;
}
.rank-sub{
  font-size: 12px;
  color: rgba(255,255,255,0.65);
  margin-top: 2px;
}
.rank-header-actions{
  display:flex;
  align-items:center;
  gap: 8px;
  flex: 0 0 auto;
}
.lb-refresh{
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,215,0,0.12);
  color:#fff;
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 700;
  cursor:pointer;
  transition: transform .15s ease, background .15s ease;
}
.lb-refresh:active{ transform: scale(0.98); }
.lb-refresh:hover{ background: rgba(255,215,0,0.18); }

.contest-rank-list{
  width: min(980px, 100%);
  margin: 0 auto;
  display:flex;
  flex-direction: column;
  gap: 10px;
}

/* Row cards */
.contest-rank-item{
  border-radius: 16px;
  padding: 10px 12px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.10);
  display:grid;
  grid-template-columns: 54px 1fr 160px 120px 72px;
  align-items:center;
  gap: 10px;
  box-shadow: 0 10px 26px rgba(0,0,0,0.18);
}
.contest-rank-item img{
  width: 46px !important;
  height: 46px !important;
  border-radius: 14px !important;
  border: 1px solid rgba(255,255,255,0.14);
}
.contest-rank-name .name-main{
  font-weight: 800;
  letter-spacing:-0.01em;
}
.contest-rank-username{
  margin-top: 2px;
  font-size: 12px;
  color: rgba(255,255,255,0.65);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.contest-rank-userid{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  font-size: 12px;
  color: rgba(255,255,255,0.70);
  opacity: 0.9;
  overflow:hidden;
  text-overflow: ellipsis;
}
.contest-rank-tickets{
  font-weight: 800;
  text-align:right;
}
.contest-rank-position{
  justify-self: end;
  font-weight: 900;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(255,215,0,0.10);
  border: 1px solid rgba(255,215,0,0.16);
  min-width: 48px;
  text-align:center;
}
.contest-rank-item.current-player{
  background: rgba(0,170,255,0.10);
  border-color: rgba(0,170,255,0.22);
}
.contest-rank-item[data-rank="1"] .contest-rank-position{ background: rgba(255,215,0,0.18); }
.contest-rank-item[data-rank="2"] .contest-rank-position{ background: rgba(255,255,255,0.12); }
.contest-rank-item[data-rank="3"] .contest-rank-position{ background: rgba(205,127,50,0.18); }

/* Responsive */
@media (max-width: 560px){
  .contest-rank-item{
    grid-template-columns: 54px 1fr 90px 60px;
  }
  .contest-rank-userid{ display:none; }
  .contest-rank-tickets{ text-align:right; }
}
@media (max-width: 380px){
  .contest-rank-item{ grid-template-columns: 54px 1fr 70px 56px; }
  .lb-refresh{ padding: 10px 10px; }
}